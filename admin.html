<!doctype html><html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Upload Corpus</title>
<style>body{font-family:system-ui,Arial;margin:24px;max-width:860px} textarea{width:100%;min-height:230px} input,select,button{padding:8px;margin:6px 0}</style>
</head><body>
<h1>Upload to Corpus</h1>
<p>Introdu <b>ADMIN_TOKEN</b>, alege colecția și lipește textul. Click <b>Upload</b>.</p>
<label>Admin Token <input type="password" id="tok"></label><br>
<label>Collection
  <select id="col"><option value="canon">CANON (autor)</option><option value="main">MAINSTREAM (general)</option></select>
</label><br>
<label>Title <input id="ttl" placeholder="Titlu articol/carte"></label><br>
<label>Section <input id="sec" placeholder="Capitol / § / pagină"></label><br>
<label>Language <input id="lng" value="ro"></label><br>
<label>Text</label><br>
<textarea id="txt" placeholder="Lipește aici conținutul…"></textarea><br>
<button id="btn">Upload</button>
<pre id="out"></pre>
<script>
document.getElementById('btn').onclick = async function(){
  const tok=document.getElementById('tok').value.trim();
  const col=document.getElementById('col').value;
  const ttl=document.getElementById('ttl').value.trim();
  const sec=document.getElementById('sec').value.trim();
  const lng=document.getElementById('lng').value.trim();
  const txt=document.getElementById('txt').value.trim();
  const out=document.getElementById('out');
  out.textContent='Uploading…';
  try{
    const res=await fetch('/api/ingest',{method:'POST',headers:{'Content-Type':'application/json','x-admin-token':tok},body:JSON.stringify({collection:col,title:ttl,section:sec,lang:lng,text:txt})});
    const data=await res.json(); out.textContent=JSON.stringify(data,null,2);
  }catch(e){ out.textContent='Error: '+e.message; }
};
</script>
</body></html>
